[tox]
envlist = {py2,py3}-{flake8,isort,yapf},pytest,py2,py3

[testenv:flake8]
deps =
    flake8
skip_install = True
commands = flake8 \
    setup.py \
    db \
    auth0login

[testenv:py2-isort]
deps =
    isort
skip_install = True
commands = isort -rc -c -df \
    setup.py \
    db \
    auth0login

[testenv:py3-isort]
deps =
    isort
skip_install = True
commands = isort -rc -c -df \
    setup.py \
    db \
    auth0login

[testenv:py2-yapf]
deps =
    yapf
skip_install = True
commands = yapf -d -r \
    setup.py \
    db \
    auth0login

[testenv:py3-yapf]
deps =
    yapf
skip_install = True
commands = yapf -d -r \
    setup.py \
    db \
    auth0login

[testenv:deps]
install_command = python -m pip install --no-deps {opts} {packages}
recreate = True
deps =
    -rrequirements-dev.txt
extras = dev
commands = pip check

[testenv:pytest]
install_command = python -m pip install --no-deps {opts} {packages}
deps =
    -rrequirements-dev.txt
usedevelop = True
extras = dev
commands = pytest
